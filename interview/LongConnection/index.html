<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.26" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.187" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"长连接","image":[""],"dateModified":"2026-02-12T02:59:48.000Z","author":[]}</script><meta property="og:url" content="https://blog.l0v3ch4n.top/interview/LongConnection/"><meta property="og:site_name" content="L0v3ch4n"><meta property="og:title" content="长连接"><meta property="og:description" content="短连接（Short Connection） 短连接是指客户端和服务器之间建立连接后，进行一次请求-响应后就断开连接。常见的协议如 HTTP/1.x 就是基于短连接的，每次请求都会建立一次新的连接。 特点： 简单易用：每次请求都创建新的连接，不需要维护长时间的连接状态。 负载较高：每次请求都需要建立新的连接，增加了连接的开销（如 TCP 连接的三次握手和..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2026-02-12T02:59:48.000Z"><meta property="article:modified_time" content="2026-02-12T02:59:48.000Z"><link rel="icon" href="/images/L-logo.png"><title>长连接 | L0v3ch4n</title><meta name="description" content="短连接（Short Connection） 短连接是指客户端和服务器之间建立连接后，进行一次请求-响应后就断开连接。常见的协议如 HTTP/1.x 就是基于短连接的，每次请求都会建立一次新的连接。 特点： 简单易用：每次请求都创建新的连接，不需要维护长时间的连接状态。 负载较高：每次请求都需要建立新的连接，增加了连接的开销（如 TCP 连接的三次握手和..."><link rel="preload" href="/assets/style-B7ZinEDf.css" as="style"><link rel="stylesheet" href="/assets/style-B7ZinEDf.css"><link rel="modulepreload" href="/assets/app-BjK21BRJ.js"><link rel="modulepreload" href="/assets/index.html-DTl7XZ5g.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-cd7c51a8><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d65398c6></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d65398c6> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-cd7c51a8 data-v-3e005bd2><div class="vp-navbar" vp-navbar data-v-3e005bd2 data-v-a6cf35b9><div class="wrapper" data-v-a6cf35b9><div class="container" data-v-a6cf35b9><div class="title" data-v-a6cf35b9><div class="vp-navbar-title has-sidebar" data-v-a6cf35b9 data-v-d0309769><a class="vp-link link no-icon title" href="/" data-v-d0309769><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/images/L-logo.png" alt data-v-092b49b2><!--]--><!--[--><img class="vp-image light logo" style="" src="/images/L-logo.png" alt data-v-092b49b2><!--]--><!--]--><!--]--><span data-v-d0309769>L0v3ch4n</span><!--[--><!--]--><!--]--></a></div></div><div class="content" data-v-a6cf35b9><div class="content-body" data-v-a6cf35b9><!--[--><!--]--><div class="vp-navbar-search search" data-v-a6cf35b9><div class="search-wrapper" data-v-ff593321><!----><div id="local-search" data-v-ff593321><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-ff593321><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-a6cf35b9 data-v-f9b84a26><span id="main-nav-aria-label" class="visually-hidden" data-v-f9b84a26>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-f9b84a26 data-v-3aa84d55><!--[--><span class="vp-icon vpi-material-symbols-home" style="" aria-hidden data-provider="iconify" data-v-3aa84d55></span><span data-v-3aa84d55>首页</span><!----><!--]--></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/" tabindex="0" data-v-f9b84a26 data-v-3aa84d55><!--[--><span class="vp-icon vpi-material-symbols-menu-book" style="" aria-hidden data-provider="iconify" data-v-3aa84d55></span><span data-v-3aa84d55>博客</span><!----><!--]--></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f9b84a26 data-v-80e658ce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80e658ce><span class="text" data-v-80e658ce><span class="vp-icon vpi-lucide-file-pen-line" style="" aria-hidden data-provider="iconify" data-v-80e658ce></span><!----><span data-v-80e658ce>笔记本</span><!----><span class="vpi-chevron-down text-icon" data-v-80e658ce></span></span></button><div class="menu" data-v-80e658ce><div class="vp-menu" data-v-80e658ce data-v-665d2349><div class="items" data-v-665d2349><!--[--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/memorandum/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-emojione-memo bg" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 备忘录 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/language/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-material-symbols-language-spanish-rounded" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 语言学习 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/TypeGymnastics/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-proicons-typescript" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> TS类型体操 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/project/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-pajamas-project" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 项目开发笔记 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link active" href="/interview/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-codicon-comment-unresolved" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 面试题笔记 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/OS/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-grommet-icons-system" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 系统笔记 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/jotting/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-streamline-freehand-book-bookmark" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 随笔 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/secrets/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-material-symbols-lock" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 加密文章 <!----><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f9b84a26 data-v-80e658ce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80e658ce><span class="text" data-v-80e658ce><span class="vp-icon vpi-ant-design-project-outlined" style="" aria-hidden data-provider="iconify" data-v-80e658ce></span><!----><span data-v-80e658ce>个人项目</span><!----><span class="vpi-chevron-down text-icon" data-v-80e658ce></span></span></button><div class="menu" data-v-80e658ce><div class="vp-menu" data-v-80e658ce data-v-665d2349><div class="items" data-v-665d2349><!--[--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link vp-external-link-icon" href="http://oj.l0v3ch4n.top" target="_blank" rel="noreferrer" data-v-8bde2b40><!--[--><!----> OJ项目 <!----><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/friends/" tabindex="0" data-v-f9b84a26 data-v-3aa84d55><!--[--><span class="vp-icon vpi-fa-solid-user-friends" style="" aria-hidden data-provider="iconify" data-v-3aa84d55></span><span data-v-3aa84d55>友链</span><!----><!--]--></a><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-a6cf35b9 data-v-3f4534f4><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-3f4534f4 data-v-56dbbd8d data-v-eaf275e7><span class="check" data-v-eaf275e7><span class="icon" data-v-eaf275e7><!--[--><span class="vpi-sun sun" data-v-56dbbd8d></span><span class="vpi-moon moon" data-v-56dbbd8d></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-a6cf35b9 data-v-ad41e111 data-v-ca4e091f><!--[--><a class="vp-social-link no-icon" href="https://github.com/Cuber-Wei/" aria-label="github" title="github" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon vpi-simple-icons-github" style="" aria-hidden data-provider="iconify" data-v-7718174e></span></a><a class="vp-social-link no-icon" href="mailto:lovechan@nuaa.edu.cn" aria-label="email" title="email" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon is-svg" style="" aria-hidden data-v-71c295e0><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M22 5.5H9c-1.1 0-2 .9-2 2v9a2 2 0 0 0 2 2h13c1.11 0 2-.89 2-2v-9a2 2 0 0 0-2-2m0 11H9V9.17l6.5 3.33L22 9.17zm-6.5-5.69L9 7.5h13zM5 16.5c0 .17.03.33.05.5H1c-.552 0-1-.45-1-1s.448-1 1-1h4zM3 7h2.05c-.02.17-.05.33-.05.5V9H3c-.55 0-1-.45-1-1s.45-1 1-1m-2 5c0-.55.45-1 1-1h3v2H2c-.55 0-1-.45-1-1"/></svg></span></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-a6cf35b9 data-v-fed80ebd data-v-80e658ce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-80e658ce><span class="vpi-more-horizontal icon" data-v-80e658ce></span></button><div class="menu" data-v-80e658ce><div class="vp-menu" data-v-80e658ce data-v-665d2349><!----><!--[--><!--[--><!----><div class="group" data-v-fed80ebd><div class="item appearance" data-v-fed80ebd><p class="label" data-v-fed80ebd>外观</p><div class="appearance-action" data-v-fed80ebd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-fed80ebd data-v-56dbbd8d data-v-eaf275e7><span class="check" data-v-eaf275e7><span class="icon" data-v-eaf275e7><!--[--><span class="vpi-sun sun" data-v-56dbbd8d></span><span class="vpi-moon moon" data-v-56dbbd8d></span><!--]--></span></span></button></div></div></div><div class="group" data-v-fed80ebd><div class="item social-links" data-v-fed80ebd><div class="vp-social-links social-links-list" data-v-fed80ebd data-v-ca4e091f><!--[--><a class="vp-social-link no-icon" href="https://github.com/Cuber-Wei/" aria-label="github" title="github" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon vpi-simple-icons-github" style="" aria-hidden data-provider="iconify" data-v-7718174e></span></a><a class="vp-social-link no-icon" href="mailto:lovechan@nuaa.edu.cn" aria-label="email" title="email" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon is-svg" style="" aria-hidden data-v-71c295e0><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M22 5.5H9c-1.1 0-2 .9-2 2v9a2 2 0 0 0 2 2h13c1.11 0 2-.89 2-2v-9a2 2 0 0 0-2-2m0 11H9V9.17l6.5 3.33L22 9.17zm-6.5-5.69L9 7.5h13zM5 16.5c0 .17.03.33.05.5H1c-.552 0-1-.45-1-1s.448-1 1-1h4zM3 7h2.05c-.02.17-.05.33-.05.5V9H3c-.55 0-1-.45-1-1s.45-1 1-1m-2 5c0-.55.45-1 1-1h3v2H2c-.55 0-1-.45-1-1"/></svg></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-a6cf35b9 data-v-90930eb5><span class="container" data-v-90930eb5><span class="top" data-v-90930eb5></span><span class="middle" data-v-90930eb5></span><span class="bottom" data-v-90930eb5></span></span></button></div></div></div></div><div class="divider" data-v-a6cf35b9><div class="divider-line" data-v-a6cf35b9></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-cd7c51a8 data-v-24e4c0f1><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-24e4c0f1><span class="vpi-align-left menu-icon" data-v-24e4c0f1></span><span class="menu-text" data-v-24e4c0f1>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-24e4c0f1 data-v-0d376064><!----><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-cd7c51a8 data-v-eac9cf87><div class="curtain" data-v-eac9cf87></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-eac9cf87><span id="sidebar-aria-label" class="visually-hidden" data-v-eac9cf87> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0" data-v-1d34c694 data-v-b69142f9><!----><div data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>面试题笔记</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>HTML</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/DOCTYPE/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>DOCTYPE</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/HTML5feature/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>HTML5新特性</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/ElemClassify/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>元素的分类</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>CSS</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div style="display:none;" data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/BoxModel/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>盒模型</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/BFC/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>BFC块级格式化上下文</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/CSSfloat/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>CSS浮动</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/FlexGrid/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>flex弹性布局</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/ElemCenter/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>元素垂直居中</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/triangle/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>画三角形</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>JavaScript</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div style="display:none;" data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/DOMOperation/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>DOM节点操作</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/MVVM/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>MVC/MVP/MVVM</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/newOperator/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>new操作符</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/promise/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>promise</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/thisInFunction/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>函数中的this指向</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/proto/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>原型和原型链</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/async/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>异步请求</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/dataType/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>数据类型</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/DebounceAndThrottle/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>防抖和节流</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/crossOrigin/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>跨域</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/EnPackage/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>闭包</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/SetElem/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>集合元素</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/EventListener/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>事件监听</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>浏览器</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div style="display:none;" data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/EventLoop/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>事件循环</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/BrowserRender/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>浏览器渲染原理</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/rePaintFlow/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>重绘和重排</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>Vue3</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div style="display:none;" data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/VirtualDOM/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>虚拟DOM</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/reactive/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>响应式原理</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/ComponentCom/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>组件间通信</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/life/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>生命周期</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/vIfFor/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>v-if和v-for</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/vIfShow/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>v-if和v-show</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/vuex/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>对vuex的理解</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>计算机网络原理</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div style="display:none;" data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/HTTP/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>HTTP协议</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/HTTPCache/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>HTTP缓存</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>工具</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div style="display:none;" data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/PackageBuilder/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>模块打包器</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/webpack/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>webpack</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 collapsible has-active" data-v-1d34c694 data-v-b69142f9><div class="item" role="button" tabindex="0" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><h2 class="text" data-v-b69142f9><span data-v-b69142f9>技巧</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b69142f9><span class="vpi-chevron-right caret-icon" data-v-b69142f9></span></div></div><div data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/lazyLoad/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>懒加载</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/interview/LongConnection/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>长连接</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-cd7c51a8 data-v-30fa168c><div class="vp-doc-container has-sidebar has-aside" data-v-30fa168c data-v-3297fd06><!--[--><!--]--><div class="container" data-v-3297fd06><div class="aside" vp-outline data-v-3297fd06><div class="aside-curtain" data-v-3297fd06></div><div class="aside-container" data-v-3297fd06><div class="aside-content" data-v-3297fd06><div class="vp-doc-aside" data-v-3297fd06 data-v-1db5db81><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-1db5db81 data-v-a0bc459f><div class="content" data-v-a0bc459f><div class="outline-marker" data-v-a0bc459f></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-a0bc459f><span data-v-a0bc459f>此页内容</span><span class="vpi-print icon" data-v-a0bc459f></span></div><ul class="root" data-v-a0bc459f data-v-d5e18127><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-1db5db81></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-3297fd06><div class="content-container" data-v-3297fd06><!--[--><!--]--><main class="main" data-v-3297fd06><nav class="vp-breadcrumb" data-v-3297fd06 data-v-0b012d5e><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-0b012d5e><!--[--><li property="itemListElement" typeof="ListItem" data-v-0b012d5e><a class="vp-link link no-icon breadcrumb" href="/" property="item" typeof="WebPage" data-v-0b012d5e><!--[-->首页<!--]--></a><span class="vpi-chevron-right" data-v-0b012d5e></span><meta property="name" content="首页" data-v-0b012d5e><meta property="position" content="1" data-v-0b012d5e></li><li property="itemListElement" typeof="ListItem" data-v-0b012d5e><a class="vp-link link no-icon breadcrumb" href="/interview/" property="item" typeof="WebPage" data-v-0b012d5e><!--[-->面试题笔记<!--]--></a><span class="vpi-chevron-right" data-v-0b012d5e></span><meta property="name" content="面试题笔记" data-v-0b012d5e><meta property="position" content="2" data-v-0b012d5e></li><li property="itemListElement" typeof="ListItem" data-v-0b012d5e><span class="vp-link no-icon breadcrumb" property="item" typeof="WebPage" data-v-0b012d5e><!--[-->技巧<!--]--></span><span class="vpi-chevron-right" data-v-0b012d5e></span><meta property="name" content="技巧" data-v-0b012d5e><meta property="position" content="3" data-v-0b012d5e></li><li property="itemListElement" typeof="ListItem" data-v-0b012d5e><a class="vp-link link no-icon breadcrumb current" href="/interview/LongConnection/" property="item" typeof="WebPage" data-v-0b012d5e><!--[-->长连接<!--]--></a><!----><meta property="name" content="长连接" data-v-0b012d5e><meta property="position" content="4" data-v-0b012d5e></li><!--]--></ol></nav><!--[--><!--]--><!--[--><div class="vp-doc-title" data-v-563777fd><!--[--><!--]--><h1 class="page-title" data-v-563777fd><!----> 长连接 <!----></h1><!--[--><!--[--><!--[--><!--[--><div class="vp-page-context-menu" data-v-cd7c51a8 data-v-6f3ce12c><div class="page-context-button" type="button" data-v-6f3ce12c><span class="page-context-copy" data-v-6f3ce12c><span class="vpi-copy" data-v-6f3ce12c></span><span class="text" data-v-6f3ce12c>复制页面</span></span><span class="page-context-toggle" data-v-6f3ce12c><span class="vpi-chevron-down" data-v-6f3ce12c></span></span></div><ul class="page-context-menu" style="display:none;" data-v-6f3ce12c><li data-v-6f3ce12c><a href="javascript:void(0)" data-v-6f3ce12c><span class="vpi-copy" data-v-6f3ce12c></span><span data-v-6f3ce12c>复制页面 <small data-v-6f3ce12c>将页面以 Markdown 格式复制供 LLMs 使用</small></span></a></li><!--[--><li data-v-6f3ce12c><a href="/interview/LongConnection/index.md" target="_blank" rel="noopener noreferrer" aria-label="以 Markdown 格式查看" type="text/markdown" data-allow-mismatch data-v-6f3ce12c><span class="vpi-markdown" data-v-6f3ce12c></span><span data-v-6f3ce12c>以 Markdown 格式查看 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>以纯文本查看此页面</small></span></a></li><li data-v-6f3ce12c><a href="https://chat.openai.com/?prompt=" target="_blank" rel="noopener noreferrer" aria-label="在 ChatGPT 中打开" data-allow-mismatch data-v-6f3ce12c><span class="vpi-chatgpt" data-v-6f3ce12c></span><span data-v-6f3ce12c>在 ChatGPT 中打开 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>向 ChatGPT 提问有关此页面</small></span></a></li><li data-v-6f3ce12c><a href="https://claude.ai/new?q=" target="_blank" rel="noopener noreferrer" aria-label="在 Claude 中打开" data-allow-mismatch data-v-6f3ce12c><span class="vpi-claude" data-v-6f3ce12c></span><span data-v-6f3ce12c>在 Claude 中打开 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>向 Claude 提问有关此页面</small></span></a></li><li data-v-6f3ce12c><a href="https://perplexity.ai/?q=" target="_blank" rel="noopener noreferrer" aria-label="在 Perplexity 中打开" data-allow-mismatch data-v-6f3ce12c><span class="vpi-perplexity" data-v-6f3ce12c></span><span data-v-6f3ce12c>在 Perplexity 中打开 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>向 Perplexity 提问有关此页面</small></span></a></li><!--]--></ul></div><!--]--><!--]--><!--]--><!--]--></div><div class="vp-doc-meta" data-v-563777fd><!--[--><!--]--><p class="reading-time" data-v-563777fd><span class="vpi-books icon" data-v-563777fd></span><span data-v-563777fd>约 1307 字</span><span data-v-563777fd>大约 4 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-563777fd><span class="vpi-clock icon" data-v-563777fd></span><span data-v-563777fd>2025-03-14</span></p></div><!--]--><!--[--><!--]--><!--[--><div class="_interview_LongConnection_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-3297fd06><!--[--><!--]--><div data-v-3297fd06><h2 id="短连接-short-connection" tabindex="-1"><a class="header-anchor" href="#短连接-short-connection"><span>短连接（Short Connection）</span></a></h2><p>短连接是指客户端和服务器之间建立连接后，进行一次请求-响应后就断开连接。常见的协议如 HTTP/1.x 就是基于短连接的，每次请求都会建立一次新的连接。</p><p><strong>特点：</strong></p><ol><li>简单易用：每次请求都创建新的连接，不需要维护长时间的连接状态。</li><li>负载较高：每次请求都需要建立新的连接，增加了连接的开销（如 TCP 连接的三次握手和四次挥手）。</li><li>适合小流量应用：对于请求频率低且每次请求/响应的数据量较小的应用比较合适。</li></ol><p><strong>适用场景：</strong></p><ul><li>传统的 Web 应用、API 服务。</li><li>高并发的情况下，短连接避免了过多的连接占用，适合快速响应和简单的请求/响应模式。</li></ul><h2 id="长连接-long-connection" tabindex="-1"><a class="header-anchor" href="#长连接-long-connection"><span>长连接（Long Connection）</span></a></h2><p>长连接则是指客户端和服务器之间建立一次连接后，可以复用这个连接进行多次请求和响应。HTTP/2 及 WebSocket 等协议都是基于长连接的。</p><p><strong>特点：</strong></p><ol><li>性能优越：因为连接只建立一次，后续的数据传输效率较高，避免了频繁的连接建立和关闭过程。</li><li>资源消耗大：长连接需要保持客户端和服务器之间的连接状态，因此对服务器端资源的消耗较大，可能会导致连接过多时服务器负载过高。</li><li>适合大流量和实时性强的应用：对于需要频繁交互和数据实时更新的应用，长连接可以显著降低延迟，提高效率。</li></ol><p><strong>适用场景：</strong></p><ul><li>实时通讯应用（如即时消息、在线游戏等）。</li><li>数据流传输密集型应用，如视频直播、股票行情等。</li><li>API 需要高效传输大量数据的场景。</li><li>长连接的实现是基于 TCP 协议的持久连接机制，通常需要客户端与服务器建立一个 TCP 连接，并在数据交互期间保持该连接不被关闭。这种机制相比于短连接的最大优势是减少了频繁建立和断开连接的开销，从而提高了通信效率。</li></ul><h2 id="tcp-长连接原理" tabindex="-1"><a class="header-anchor" href="#tcp-长连接原理"><span>TCP 长连接原理</span></a></h2><p>长连接是指客户端与服务器之间建立连接后，连接持续存在一段时间，不会因为一次请求-响应就关闭连接。 客户端和服务器通过这个持久的连接进行多次交互，直到主动关闭连接或发生超时。</p><h3 id="tcp-长连接的核心要点" tabindex="-1"><a class="header-anchor" href="#tcp-长连接的核心要点"><span>TCP 长连接的核心要点：</span></a></h3><p><strong>三次握手建立连接：</strong></p><p>长连接首先通过 TCP 三次握手 建立连接。客户端发送一个 SYN 包到服务器，服务器响应一个 SYN-ACK 包，最后客户端再发送一个 ACK 包确认连接建立。 一旦连接建立，客户端与服务器就可以通过这个连接进行数据传输。</p><p><strong>连接复用：</strong></p><p>在长连接模式下，连接建立后不会被立即关闭，而是保持打开状态，等待未来的请求。客户端每次发送请求时，不需要重新建立连接，节省了建立和关闭连接的开销。</p><p><strong>数据传输：</strong></p><p>在连接保持期间，数据可以连续传输。在这期间，TCP 连接会保持一个 全双工通信，即双方可以在同一连接上同时发送和接收数据。</p><p><strong>TCP 保活机制：</strong></p><p>为了确保连接在长时间没有数据交换时不会被中断，TCP 提供了保活机制（TCP Keep-Alive）。如果没有数据传输，TCP 会定期发送空的数据包（keep-alive），以检查连接是否仍然有效。</p><p><strong>四次挥手关闭连接：</strong></p><p>当客户端或服务器不再需要数据交互时，连接会被关闭。这个过程通过 TCP 四次挥手 来完成，确保连接被优雅地关闭，避免数据丢失。</p><h2 id="长连接的心跳和保活机制" tabindex="-1"><a class="header-anchor" href="#长连接的心跳和保活机制"><span>长连接的心跳和保活机制</span></a></h2><p>由于长连接在长时间没有数据交互时可能会被网络中间设备（如路由器、防火墙等）关闭，因此需要有 心跳机制 或 保活机制 来保证连接的持续有效。</p><p><strong>心跳机制（Heartbeat）：</strong></p><p>心跳机制通过定期发送一些空数据包，或者一些低频率的请求来保持连接的活跃。这些请求和响应不会包含有效数据，仅用于确保连接仍然存在，并维持连接的存活。</p><p><strong>TCP Keep-Alive：</strong></p><p>TCP 协议本身也提供了 Keep-Alive 选项，它会在连接空闲时定期发送数据包以检查连接是否仍然活跃。服务器和客户端可以设置 Keep-Alive 的时间间隔。 如果双方在一定时间内没有数据交互，TCP 会自动发送 Keep-Alive 包（例如，每隔 60 秒发送一次），以确认连接是否仍然有效。如果长时间没有回应，则认为连接已经断开，进行相应的处理。</p></div><!--[--><h2 id="doc-contributors" tabindex="-1"><a href="#doc-contributors" class="header-anchor"><span>贡献者</span></a></h2><div class="vp-contributors"><a href="https://github.com/Cuber-Wei" target="_blank" rel="noreferrer" class="vp-contributor"><img src="https://avatars.githubusercontent.com/Cuber-Wei?v=4" alt class="vp-contributor-avatar"><span class="vp-contributor-name">Cuber-Wei</span></a></div><!--]--><!----><!----><footer class="vp-doc-footer" data-v-3297fd06 data-v-f9302c97><!--[--><!--]--><div class="edit-info" data-v-f9302c97><div class="edit-link" data-v-f9302c97><a class="vp-link link no-icon vp-external-link-icon edit-link-button" href="https://github.com/Cuber-Wei/L0v3ch4n-Docs/edit/main/src/interview/tricks/02-长连接.md" target="_blank" rel="noreferrer" data-v-f9302c97><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-f9302c97></span> 编辑此页<!--]--></a></div><!----></div><!----><nav class="prev-next" data-v-f9302c97><div class="pager" data-v-f9302c97><a class="vp-link link pager-link prev" href="/interview/lazyLoad/" data-v-f9302c97><!--[--><span class="desc" data-v-f9302c97>上一页</span><span class="title" data-v-f9302c97><!----><span data-v-f9302c97>懒加载</span></span><!--]--></a></div><div class="pager" data-v-f9302c97><!----></div></nav></footer></div><!--]--></main><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-3297fd06><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button type="button" class="vp-back-to-top" aria-label="back to top" data-v-cd7c51a8 style="display:none;" data-v-90d885e1><span class="percent" data-allow-mismatch data-v-90d885e1>0%</span><span class="show icon vpi-back-to-top" data-v-90d885e1></span><svg aria-hidden="true" data-v-90d885e1><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-90d885e1></circle></svg></button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="sign down" class="vp-sign-down" aria-hidden="true" data-v-cd7c51a8 style="display:none;" data-v-154db0f8><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" data-v-154db0f8><path d="m19 11l-7 6l-7-6" data-v-154db0f8></path><path d="m19 5l-7 6l-7-6" opacity="0.6" data-v-154db0f8></path></g></svg><footer class="vp-footer has-sidebar" vp-footer data-v-cd7c51a8 data-v-09666cdb><!--[--><div class="container" data-v-09666cdb><div class="message" data-v-09666cdb><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33060302001361" target="_blank">浙公网安备33060302001361</a>&emsp;<a href="https://beian.miit.gov.cn/" target="_blank">浙ICP备2024137659号-1</a></div><div class="copyright" data-v-09666cdb>Copyright © 2024-present L0v3ch4n</div></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-BjK21BRJ.js" defer></script></body></html>