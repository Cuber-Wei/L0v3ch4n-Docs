<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.26" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.187" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"docker","image":[""],"dateModified":"2026-02-12T02:59:48.000Z","author":[]}</script><meta property="og:url" content="https://blog.l0v3ch4n.top/memorandum/docker/"><meta property="og:site_name" content="L0v3ch4n"><meta property="og:title" content="docker"><meta property="og:description" content="Dockerfile 模板 docker-compose 模板 以 mysql 和 nacos 容器组合为样例。 常用 Docker 命令 docker build -t tag:v1 编译 -t 设置镜像名字和版本号 命令参考：https://docs.docker.com/engine/reference/commandline/build/ do..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2026-02-12T02:59:48.000Z"><meta property="article:modified_time" content="2026-02-12T02:59:48.000Z"><link rel="icon" href="/images/L-logo.png"><title>docker | L0v3ch4n</title><meta name="description" content="Dockerfile 模板 docker-compose 模板 以 mysql 和 nacos 容器组合为样例。 常用 Docker 命令 docker build -t tag:v1 编译 -t 设置镜像名字和版本号 命令参考：https://docs.docker.com/engine/reference/commandline/build/ do..."><link rel="preload" href="/assets/style-B7ZinEDf.css" as="style"><link rel="stylesheet" href="/assets/style-B7ZinEDf.css"><link rel="modulepreload" href="/assets/app-BjK21BRJ.js"><link rel="modulepreload" href="/assets/index.html-DO2cV7V9.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-cd7c51a8><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d65398c6></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d65398c6> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-cd7c51a8 data-v-3e005bd2><div class="vp-navbar" vp-navbar data-v-3e005bd2 data-v-a6cf35b9><div class="wrapper" data-v-a6cf35b9><div class="container" data-v-a6cf35b9><div class="title" data-v-a6cf35b9><div class="vp-navbar-title has-sidebar" data-v-a6cf35b9 data-v-d0309769><a class="vp-link link no-icon title" href="/" data-v-d0309769><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/images/L-logo.png" alt data-v-092b49b2><!--]--><!--[--><img class="vp-image light logo" style="" src="/images/L-logo.png" alt data-v-092b49b2><!--]--><!--]--><!--]--><span data-v-d0309769>L0v3ch4n</span><!--[--><!--]--><!--]--></a></div></div><div class="content" data-v-a6cf35b9><div class="content-body" data-v-a6cf35b9><!--[--><!--]--><div class="vp-navbar-search search" data-v-a6cf35b9><div class="search-wrapper" data-v-ff593321><!----><div id="local-search" data-v-ff593321><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-ff593321><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-a6cf35b9 data-v-f9b84a26><span id="main-nav-aria-label" class="visually-hidden" data-v-f9b84a26>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-f9b84a26 data-v-3aa84d55><!--[--><span class="vp-icon vpi-material-symbols-home" style="" aria-hidden data-provider="iconify" data-v-3aa84d55></span><span data-v-3aa84d55>首页</span><!----><!--]--></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/" tabindex="0" data-v-f9b84a26 data-v-3aa84d55><!--[--><span class="vp-icon vpi-material-symbols-menu-book" style="" aria-hidden data-provider="iconify" data-v-3aa84d55></span><span data-v-3aa84d55>博客</span><!----><!--]--></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f9b84a26 data-v-80e658ce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80e658ce><span class="text" data-v-80e658ce><span class="vp-icon vpi-lucide-file-pen-line" style="" aria-hidden data-provider="iconify" data-v-80e658ce></span><!----><span data-v-80e658ce>笔记本</span><!----><span class="vpi-chevron-down text-icon" data-v-80e658ce></span></span></button><div class="menu" data-v-80e658ce><div class="vp-menu" data-v-80e658ce data-v-665d2349><div class="items" data-v-665d2349><!--[--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link active" href="/memorandum/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-emojione-memo bg" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 备忘录 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/language/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-material-symbols-language-spanish-rounded" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 语言学习 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/TypeGymnastics/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-proicons-typescript" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> TS类型体操 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/project/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-pajamas-project" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 项目开发笔记 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/interview/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-codicon-comment-unresolved" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 面试题笔记 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/OS/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-grommet-icons-system" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 系统笔记 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/jotting/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-streamline-freehand-book-bookmark" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 随笔 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link" href="/secrets/" data-v-8bde2b40><!--[--><span class="vp-icon vpi-material-symbols-lock" style="" aria-hidden data-provider="iconify" data-v-8bde2b40></span> 加密文章 <!----><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f9b84a26 data-v-80e658ce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80e658ce><span class="text" data-v-80e658ce><span class="vp-icon vpi-ant-design-project-outlined" style="" aria-hidden data-provider="iconify" data-v-80e658ce></span><!----><span data-v-80e658ce>个人项目</span><!----><span class="vpi-chevron-down text-icon" data-v-80e658ce></span></span></button><div class="menu" data-v-80e658ce><div class="vp-menu" data-v-80e658ce data-v-665d2349><div class="items" data-v-665d2349><!--[--><!--[--><div class="vp-menu-link" data-v-665d2349 data-v-8bde2b40><a class="vp-link link vp-external-link-icon" href="http://oj.l0v3ch4n.top" target="_blank" rel="noreferrer" data-v-8bde2b40><!--[--><!----> OJ项目 <!----><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/friends/" tabindex="0" data-v-f9b84a26 data-v-3aa84d55><!--[--><span class="vp-icon vpi-fa-solid-user-friends" style="" aria-hidden data-provider="iconify" data-v-3aa84d55></span><span data-v-3aa84d55>友链</span><!----><!--]--></a><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-a6cf35b9 data-v-3f4534f4><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-3f4534f4 data-v-56dbbd8d data-v-eaf275e7><span class="check" data-v-eaf275e7><span class="icon" data-v-eaf275e7><!--[--><span class="vpi-sun sun" data-v-56dbbd8d></span><span class="vpi-moon moon" data-v-56dbbd8d></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-a6cf35b9 data-v-ad41e111 data-v-ca4e091f><!--[--><a class="vp-social-link no-icon" href="https://github.com/Cuber-Wei/" aria-label="github" title="github" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon vpi-simple-icons-github" style="" aria-hidden data-provider="iconify" data-v-7718174e></span></a><a class="vp-social-link no-icon" href="mailto:lovechan@nuaa.edu.cn" aria-label="email" title="email" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon is-svg" style="" aria-hidden data-v-71c295e0><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M22 5.5H9c-1.1 0-2 .9-2 2v9a2 2 0 0 0 2 2h13c1.11 0 2-.89 2-2v-9a2 2 0 0 0-2-2m0 11H9V9.17l6.5 3.33L22 9.17zm-6.5-5.69L9 7.5h13zM5 16.5c0 .17.03.33.05.5H1c-.552 0-1-.45-1-1s.448-1 1-1h4zM3 7h2.05c-.02.17-.05.33-.05.5V9H3c-.55 0-1-.45-1-1s.45-1 1-1m-2 5c0-.55.45-1 1-1h3v2H2c-.55 0-1-.45-1-1"/></svg></span></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-a6cf35b9 data-v-fed80ebd data-v-80e658ce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-80e658ce><span class="vpi-more-horizontal icon" data-v-80e658ce></span></button><div class="menu" data-v-80e658ce><div class="vp-menu" data-v-80e658ce data-v-665d2349><!----><!--[--><!--[--><!----><div class="group" data-v-fed80ebd><div class="item appearance" data-v-fed80ebd><p class="label" data-v-fed80ebd>外观</p><div class="appearance-action" data-v-fed80ebd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-fed80ebd data-v-56dbbd8d data-v-eaf275e7><span class="check" data-v-eaf275e7><span class="icon" data-v-eaf275e7><!--[--><span class="vpi-sun sun" data-v-56dbbd8d></span><span class="vpi-moon moon" data-v-56dbbd8d></span><!--]--></span></span></button></div></div></div><div class="group" data-v-fed80ebd><div class="item social-links" data-v-fed80ebd><div class="vp-social-links social-links-list" data-v-fed80ebd data-v-ca4e091f><!--[--><a class="vp-social-link no-icon" href="https://github.com/Cuber-Wei/" aria-label="github" title="github" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon vpi-simple-icons-github" style="" aria-hidden data-provider="iconify" data-v-7718174e></span></a><a class="vp-social-link no-icon" href="mailto:lovechan@nuaa.edu.cn" aria-label="email" title="email" target="_blank" rel="noopener" data-v-ca4e091f data-v-7718174e><span class="vp-icon is-svg" style="" aria-hidden data-v-71c295e0><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M22 5.5H9c-1.1 0-2 .9-2 2v9a2 2 0 0 0 2 2h13c1.11 0 2-.89 2-2v-9a2 2 0 0 0-2-2m0 11H9V9.17l6.5 3.33L22 9.17zm-6.5-5.69L9 7.5h13zM5 16.5c0 .17.03.33.05.5H1c-.552 0-1-.45-1-1s.448-1 1-1h4zM3 7h2.05c-.02.17-.05.33-.05.5V9H3c-.55 0-1-.45-1-1s.45-1 1-1m-2 5c0-.55.45-1 1-1h3v2H2c-.55 0-1-.45-1-1"/></svg></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-a6cf35b9 data-v-90930eb5><span class="container" data-v-90930eb5><span class="top" data-v-90930eb5></span><span class="middle" data-v-90930eb5></span><span class="bottom" data-v-90930eb5></span></span></button></div></div></div></div><div class="divider" data-v-a6cf35b9><div class="divider-line" data-v-a6cf35b9></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-cd7c51a8 data-v-24e4c0f1><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-24e4c0f1><span class="vpi-align-left menu-icon" data-v-24e4c0f1></span><span class="menu-text" data-v-24e4c0f1>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-24e4c0f1 data-v-0d376064><!----><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-cd7c51a8 data-v-eac9cf87><div class="curtain" data-v-eac9cf87></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-eac9cf87><span id="sidebar-aria-label" class="visually-hidden" data-v-eac9cf87> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-1d34c694><section class="vp-sidebar-item sidebar-item level-0 has-active" data-v-1d34c694 data-v-b69142f9><!----><div data-v-b69142f9 data-v-b69142f9><div class="items" data-v-b69142f9><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><!----><a class="vp-link link link" href="/memorandum/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>备忘录</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><span class="vp-icon vpi-logos-git-icon bg" style="" aria-hidden data-provider="iconify" data-v-b69142f9></span><a class="vp-link link link" href="/memorandum/git/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>git</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><span class="vp-icon vpi-cil-find-in-page" style="" aria-hidden data-provider="iconify" data-v-b69142f9></span><a class="vp-link link link" href="/memorandum/grep/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>grep</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><span class="vp-icon vpi-logos-nginx bg" style="" aria-hidden data-provider="iconify" data-v-b69142f9></span><a class="vp-link link link" href="/memorandum/nginx/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>nginx</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><span class="vp-icon vpi-logos-docker-icon bg" style="" aria-hidden data-provider="iconify" data-v-b69142f9></span><a class="vp-link link link" href="/memorandum/docker/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>docker</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b69142f9 data-v-b69142f9><div class="item" data-v-b69142f9><div class="indicator" data-v-b69142f9></div><span class="vp-icon vpi-logos-visual-studio-code bg" style="" aria-hidden data-provider="iconify" data-v-b69142f9></span><a class="vp-link link link" href="/memorandum/CodeSnippet/" data-v-b69142f9><!--[--><p class="text" data-v-b69142f9><span data-v-b69142f9>Code Snippet</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-cd7c51a8 data-v-30fa168c><div class="vp-doc-container has-sidebar has-aside" data-v-30fa168c data-v-3297fd06><!--[--><!--]--><div class="container" data-v-3297fd06><div class="aside" vp-outline data-v-3297fd06><div class="aside-curtain" data-v-3297fd06></div><div class="aside-container" data-v-3297fd06><div class="aside-content" data-v-3297fd06><div class="vp-doc-aside" data-v-3297fd06 data-v-1db5db81><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-1db5db81 data-v-a0bc459f><div class="content" data-v-a0bc459f><div class="outline-marker" data-v-a0bc459f></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-a0bc459f><span data-v-a0bc459f>此页内容</span><span class="vpi-print icon" data-v-a0bc459f></span></div><ul class="root" data-v-a0bc459f data-v-d5e18127><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-1db5db81></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-3297fd06><div class="content-container" data-v-3297fd06><!--[--><!--]--><main class="main" data-v-3297fd06><nav class="vp-breadcrumb" data-v-3297fd06 data-v-0b012d5e><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-0b012d5e><!--[--><li property="itemListElement" typeof="ListItem" data-v-0b012d5e><a class="vp-link link no-icon breadcrumb" href="/" property="item" typeof="WebPage" data-v-0b012d5e><!--[-->首页<!--]--></a><span class="vpi-chevron-right" data-v-0b012d5e></span><meta property="name" content="首页" data-v-0b012d5e><meta property="position" content="1" data-v-0b012d5e></li><li property="itemListElement" typeof="ListItem" data-v-0b012d5e><a class="vp-link link no-icon breadcrumb" href="/memorandum/" property="item" typeof="WebPage" data-v-0b012d5e><!--[-->备忘录<!--]--></a><span class="vpi-chevron-right" data-v-0b012d5e></span><meta property="name" content="备忘录" data-v-0b012d5e><meta property="position" content="2" data-v-0b012d5e></li><li property="itemListElement" typeof="ListItem" data-v-0b012d5e><a class="vp-link link no-icon breadcrumb current" href="/memorandum/docker/" property="item" typeof="WebPage" data-v-0b012d5e><!--[-->docker<!--]--></a><!----><meta property="name" content="docker" data-v-0b012d5e><meta property="position" content="3" data-v-0b012d5e></li><!--]--></ol></nav><!--[--><!--]--><!--[--><div class="vp-doc-title" data-v-563777fd><!--[--><!--]--><h1 class="page-title" data-v-563777fd><!----> docker <!----></h1><!--[--><!--[--><!--[--><!--[--><div class="vp-page-context-menu" data-v-cd7c51a8 data-v-6f3ce12c><div class="page-context-button" type="button" data-v-6f3ce12c><span class="page-context-copy" data-v-6f3ce12c><span class="vpi-copy" data-v-6f3ce12c></span><span class="text" data-v-6f3ce12c>复制页面</span></span><span class="page-context-toggle" data-v-6f3ce12c><span class="vpi-chevron-down" data-v-6f3ce12c></span></span></div><ul class="page-context-menu" style="display:none;" data-v-6f3ce12c><li data-v-6f3ce12c><a href="javascript:void(0)" data-v-6f3ce12c><span class="vpi-copy" data-v-6f3ce12c></span><span data-v-6f3ce12c>复制页面 <small data-v-6f3ce12c>将页面以 Markdown 格式复制供 LLMs 使用</small></span></a></li><!--[--><li data-v-6f3ce12c><a href="/memorandum/docker/index.md" target="_blank" rel="noopener noreferrer" aria-label="以 Markdown 格式查看" type="text/markdown" data-allow-mismatch data-v-6f3ce12c><span class="vpi-markdown" data-v-6f3ce12c></span><span data-v-6f3ce12c>以 Markdown 格式查看 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>以纯文本查看此页面</small></span></a></li><li data-v-6f3ce12c><a href="https://chat.openai.com/?prompt=" target="_blank" rel="noopener noreferrer" aria-label="在 ChatGPT 中打开" data-allow-mismatch data-v-6f3ce12c><span class="vpi-chatgpt" data-v-6f3ce12c></span><span data-v-6f3ce12c>在 ChatGPT 中打开 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>向 ChatGPT 提问有关此页面</small></span></a></li><li data-v-6f3ce12c><a href="https://claude.ai/new?q=" target="_blank" rel="noopener noreferrer" aria-label="在 Claude 中打开" data-allow-mismatch data-v-6f3ce12c><span class="vpi-claude" data-v-6f3ce12c></span><span data-v-6f3ce12c>在 Claude 中打开 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>向 Claude 提问有关此页面</small></span></a></li><li data-v-6f3ce12c><a href="https://perplexity.ai/?q=" target="_blank" rel="noopener noreferrer" aria-label="在 Perplexity 中打开" data-allow-mismatch data-v-6f3ce12c><span class="vpi-perplexity" data-v-6f3ce12c></span><span data-v-6f3ce12c>在 Perplexity 中打开 <span class="vpi-external-link" data-v-6f3ce12c></span><small data-v-6f3ce12c>向 Perplexity 提问有关此页面</small></span></a></li><!--]--></ul></div><!--]--><!--]--><!--]--><!--]--></div><div class="vp-doc-meta" data-v-563777fd><!--[--><!--]--><p class="reading-time" data-v-563777fd><span class="vpi-books icon" data-v-563777fd></span><span data-v-563777fd>约 640 字</span><span data-v-563777fd>大约 2 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-563777fd><span class="vpi-clock icon" data-v-563777fd></span><span data-v-563777fd>2025-08-20</span></p></div><!--]--><!--[--><!--]--><!--[--><div class="_memorandum_docker_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-3297fd06><!--[--><!--]--><div data-v-3297fd06><h2 id="dockerfile-模板" tabindex="-1"><a class="header-anchor" href="#dockerfile-模板"><span>Dockerfile 模板</span></a></h2><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-dockerfile"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 基础镜像，必需</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> &lt;image-name&gt;:&lt;version&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设置工作目录，必需</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WORKDIR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /app</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 配置环境变量</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ENV</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ENVIRONMENT_VARIABLE=VALUE</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 执行命令，用于安装环境依赖包</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">RUN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> cmd to install dependencies</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将项目文件复制到工作目录，必需</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">COPY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> . /app</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重置项目入口</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ENTRYPOINT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> []</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 运行项目的一般命令，必需</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CMD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;sh&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;-c&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;cmd to run app&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker-compose-模板" tabindex="-1"><a class="header-anchor" href="#docker-compose-模板"><span>docker-compose 模板</span></a></h2><p>以 mysql 和 nacos 容器组合为样例。</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><!--[--><button class="active vp-tab-nav" type="button" role="tab" aria-controls="tab-10-0" aria-selected="true"><!--[--><span class="vp-icon vpi-logos-docker-icon bg" style="" aria-hidden data-provider="iconify"></span> docker-compose.yml<!--]--></button><button class="vp-tab-nav" type="button" role="tab" aria-controls="tab-10-1" aria-selected="false"><!--[--><span class="vp-icon vpi-file-icons-dotenv" style="" aria-hidden data-provider="iconify"></span> .env<!--]--></button><!--]--></div><!--[--><div id="tab-10-0" class="active vp-tab" role="tabpanel" aria-expanded="true"><div class="vp-tab-title"><!--[--><span class="vp-icon vpi-logos-docker-icon bg" style="" aria-hidden data-provider="iconify"></span> docker-compose.yml<!--]--></div><!--[--><p><code>docker-compose</code> 主文件</p><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-dockerfile"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">version: </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;3&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">services:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  mysql:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    image: mysql/mysql-server:8.0.32</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    container_name: mysql</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    restart: always</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    volumes:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - ${DATA_DIRECTORY}/data/mysql/data:/var/lib/mysql</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    environment:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD:-passwd} # mysql数据库root账号的密码</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - TZ=Asia/Shanghai</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - NACOS_USERNAME=${NACOS_USERNAME:-root} # 后续nacos所用管理员账号</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - NACOS_PASSWORD=${NACOS_PASSWORD:-passwd} # 后续nacos所用管理员密码</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ports:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - ${MYSQL_PUBLIC_PORT:-3306}:3306</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    networks:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      network:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        ipv4_address: ${MYSQL_HOST:-172.20.0.2}</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    healthcheck:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      test: [</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;CMD&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;mysqladmin&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;ping&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;-h&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;localhost&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;-u&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;root&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;-p${MYSQL_ROOT_PASSWORD:-passwd}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      interval: 10s</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      timeout: 10s</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      retries: 10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  nacos:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    image: nacos/nacos-server:1.4.2</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    container_name: nacos</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    restart: always</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    depends_on:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      mysql:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        condition: service_healthy</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    environment:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - JVM_XMX=384m</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - JVM_XMS=384m</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - JVM_XMN=192m</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - MODE=standalone</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - SPRING_DATASOURCE_PLATFORM=mysql</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - MYSQL_SERVICE_HOST=${MYSQL_HOST:-172.20.0.2}</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - MYSQL_SERVICE_PORT=3306</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - MYSQL_SERVICE_USER=root</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - MYSQL_SERVICE_PASSWORD=${MYSQL_ROOT_PASSWORD:-passwd} # 与上面数据库密码一致</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - MYSQL_SERVICE_DB_NAME=nacos</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - NACOS_AUTH_ENABLE=true # 开启鉴权</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ports:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - ${NACOS_PORT:-8848}:8848</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    healthcheck:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      test: curl -f http://${NACOS_HOST:-172.20.0.3}:8848/nacos/index.html || exit 1</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      interval: 10s</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      timeout: 10s</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      retries: 12</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    networks:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      network:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        ipv4_address: ${NACOS_HOST:-172.20.0.3}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  autohealth: # 监控不健康的容器进行重启</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    restart: always</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    container_name: autohealth</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    image: willfarrell/autoheal</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    environment:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - AUTOHEAL_CONTAINER_LABEL=all</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    volumes:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      - /var/run/docker.sock:/var/run/docker.sock</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">networks:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  network:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    driver: bridge</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ipam:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      config:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        - subnet: ${SUBNET:-172.20.0.0/16}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div id="tab-10-1" class="vp-tab" role="tabpanel" aria-expanded="false"><div class="vp-tab-title"><!--[--><span class="vp-icon vpi-file-icons-dotenv" style="" aria-hidden data-provider="iconify"></span> .env<!--]--></div><!--[--><p>相关环境变量配置</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">DATA_DIRECTORY</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./hoj</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># mysql的docker内网ip</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">MYSQL_HOST</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">172.20.0.2</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># mysql暴露的端口号</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">MYSQL_PUBLIC_PORT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">3306</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># mysql的密码</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">MYSQL_ROOT_PASSWORD</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">passwd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># nacos的配置</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">NACOS_HOST</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">172.20.0.3</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">NACOS_PORT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">8848</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">NACOS_USERNAME</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">root</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">NACOS_PASSWORD</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">passwd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># docker network的配置</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">SUBNET</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">172.20.0.0/16</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h2 id="常用-docker-命令" tabindex="-1"><a class="header-anchor" href="#常用-docker-命令"><span>常用 Docker 命令</span></a></h2><p><code>docker build -t tag:v1</code> 编译</p><blockquote><p><code>-t</code> 设置镜像名字和版本号</p><p>命令参考：<a href="https://docs.docker.com/engine/reference/commandline/build/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/reference/commandline/build/</a></p></blockquote><p><code>docker run -p 8080:8080 --name container-name tag:v1</code> 运行</p><blockquote><p><code>-p</code> 映射容器内端口到宿主机</p><p><code>--name</code> 容器名字</p><p><code>-d</code> 后台运行</p><p>命令参考文档：<a href="https://docs.docker.com/engine/reference/run/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/reference/run/</a></p></blockquote><p><code>docker ps</code> 查看当前运行中的容器</p><p><code>docker images</code> 查看镜像列表</p><p><code>docker rm container-id</code> 删除指定 id 的容器</p><p><code>docker stop/start container-id</code> 停止/启动指定 id 的容器</p><p><code>docker rmi image-id</code> 删除指定 id 的镜像</p><p><code>docker volume ls</code> 查看 volume 列表</p><p><code>docker network ls</code> 查看网络列表</p><p><code>docker logs container-id</code> 查看指定 id 的容器运行 log</p><h2 id="常用-docker-compose-命令" tabindex="-1"><a class="header-anchor" href="#常用-docker-compose-命令"><span>常用 docker-compose 命令</span></a></h2><p><code>docker-compose up</code> 运行服务</p><p><code>docker-compose up -d</code> 在后台运行</p><p><code>docker-compose ps</code> 查看运行状态</p><p><code>docker-compose stop</code> 停止运行</p><p><code>docker-compose restart</code> 重启</p><p><code>docker-compose restart service-name</code> 重启单个服务</p><p><code>docker-compose exec service-name sh</code> 进入容器命令行</p><p><code>docker-compose logs service-name</code> 查看容器运行 log</p></div><!--[--><h2 id="doc-contributors" tabindex="-1"><a href="#doc-contributors" class="header-anchor"><span>贡献者</span></a></h2><div class="vp-contributors"><a href="https://github.com/Cuber-Wei" target="_blank" rel="noreferrer" class="vp-contributor"><img src="https://avatars.githubusercontent.com/Cuber-Wei?v=4" alt class="vp-contributor-avatar"><span class="vp-contributor-name">Cuber-Wei</span></a></div><!--]--><!----><!----><footer class="vp-doc-footer" data-v-3297fd06 data-v-f9302c97><!--[--><!--]--><div class="edit-info" data-v-f9302c97><div class="edit-link" data-v-f9302c97><a class="vp-link link no-icon vp-external-link-icon edit-link-button" href="https://github.com/Cuber-Wei/L0v3ch4n-Docs/edit/main/src/memorandum/docker.md" target="_blank" rel="noreferrer" data-v-f9302c97><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-f9302c97></span> 编辑此页<!--]--></a></div><!----></div><!----><nav class="prev-next" data-v-f9302c97><div class="pager" data-v-f9302c97><a class="vp-link link pager-link prev" href="/memorandum/nginx/" data-v-f9302c97><!--[--><span class="desc" data-v-f9302c97>上一页</span><span class="title" data-v-f9302c97><span class="vp-icon vpi-logos-nginx bg" style="" aria-hidden data-provider="iconify" data-v-f9302c97></span><span data-v-f9302c97>nginx</span></span><!--]--></a></div><div class="pager" data-v-f9302c97><a class="vp-link link pager-link next" href="/memorandum/CodeSnippet/" data-v-f9302c97><!--[--><span class="desc" data-v-f9302c97>下一页</span><span class="title" data-v-f9302c97><span class="vp-icon vpi-logos-visual-studio-code bg" style="" aria-hidden data-provider="iconify" data-v-f9302c97></span><span data-v-f9302c97>Code Snippet</span></span><!--]--></a></div></nav></footer></div><!--]--></main><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-3297fd06><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button type="button" class="vp-back-to-top" aria-label="back to top" data-v-cd7c51a8 style="display:none;" data-v-90d885e1><span class="percent" data-allow-mismatch data-v-90d885e1>0%</span><span class="show icon vpi-back-to-top" data-v-90d885e1></span><svg aria-hidden="true" data-v-90d885e1><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-90d885e1></circle></svg></button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="sign down" class="vp-sign-down" aria-hidden="true" data-v-cd7c51a8 style="display:none;" data-v-154db0f8><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" data-v-154db0f8><path d="m19 11l-7 6l-7-6" data-v-154db0f8></path><path d="m19 5l-7 6l-7-6" opacity="0.6" data-v-154db0f8></path></g></svg><footer class="vp-footer has-sidebar" vp-footer data-v-cd7c51a8 data-v-09666cdb><!--[--><div class="container" data-v-09666cdb><div class="message" data-v-09666cdb><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33060302001361" target="_blank">浙公网安备33060302001361</a>&emsp;<a href="https://beian.miit.gov.cn/" target="_blank">浙ICP备2024137659号-1</a></div><div class="copyright" data-v-09666cdb>Copyright © 2024-present L0v3ch4n</div></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-BjK21BRJ.js" defer></script></body></html>